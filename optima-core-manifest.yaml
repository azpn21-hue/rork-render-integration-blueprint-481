# ============================================================
# OPTIMA-CORE SYSTEM MANIFEST (v1.0)
# Unified orchestration layer for Optima AI, Hive, Pulse & Market
# ============================================================

system:
  name: Optima-Core
  version: 1.0.0
  maintainer: R3AL Systems / Rork Integration
  description: >
    FastAPI backend and AI management hub for Optima's behavioral,
    market, and relationship data pipeline.

environment:
  python: "3.10.11"
  framework: "FastAPI"
  port: 8080
  mode: production

folders:
  backend_root: "C:\\Optima-Core\\backend"
  secrets: "C:\\Optima-Core\\.secrets"
  logs: "C:\\Optima-Core\\logs"

services:
  - name: Vertex AI
    id: vertex_ai
    project: civic-origin-476705-j8
    region: us-central1
    purpose: Model training and adaptive AI inference

  - name: Cloud Storage
    id: gcs
    bucket: optima-core-data
    purpose: Data, model weights, and logs

  - name: BigQuery
    id: bq
    dataset: optima_core_analytics
    purpose: Behavioral and market analytics

  - name: Firestore
    id: firestore
    purpose: Real-time user and pulse tracking

  - name: PubSub
    id: pubsub
    purpose: Event-based communication between microservices

routes:
  - /auth/register
  - /auth/login
  - /health
  - /pulse
  - /hive
  - /market/nft

deploy:
  platform: render
  buildCommand: "pip install -r requirements.txt"
  startCommand: "uvicorn app:app --host 0.0.0.0 --port 8080"
  envVars:
    GOOGLE_APPLICATION_CREDENTIALS: "/opt/render/project/.secrets/service-account.json"
    GOOGLE_CLOUD_PROJECT: "civic-origin-476705-j8"
    GOOGLE_CLOUD_REGION: "us-central1"
    RORK_API_URL: "https://rork-r3al-connection.onrender.com/inference"
    RORK_API_KEY: "rnd_w0obVzrvycssNp2SbIA3q2sbZZW0"
